{% extends "layout.html" %}
{% block main %}
<div class="form-container">
    <h3>Reports</h3>
    <form id="form" action="/viewTasks/" method="post" enctype="multipart/form-data">
        <div class="form-group-inline">
            {% csrf_token %}
            <div class="form-item">
                <label for="project">Project:</label>
                <select name="project" class="project">
                    <option value="">Select a Project</option>
                    {% for key, value in projects.items %}
                        <option value="{{ key }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-item">
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" >
            </div>
            <div class="form-item button-item">
                <button type="submit">Apply Filter</button>
            </div>
    </div>
    </form>
    {% if tasks %}
    <table>
        <thead>
            <tr>
                <th>Project</th>
                <th>Date</th>
                <th>Task Description</th>
                <th>Accomplishments</th>
                <th>Concerns/Blockers</th>
                <th>Files</th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr>
                <td>{{task.project.name}}</td>
                <td>{{task.date}}</td>
                <td>{{task.taskDescription}}</td>
                <td>{{task.accomplishments}}</td>
                <td>{{task.blockers}}</td>
                <td><a href="/files/{{task.document}}">{{task.document}}</a></td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
    {% else %}
    <p><b>No Reports</b></p>
    {% endif %}
</div>
{% endblock %}